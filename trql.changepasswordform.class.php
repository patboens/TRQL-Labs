<?php
/****************************************************************************************/
/*
    {PYB} is a shortcut for Patrick Boens

    {COMPANY} is a shortcut to "Lato Sensu Management"

    {RIGHTS} is a shortcut used by trql.documentor.class.php. In general the material
    presented here is available under the conditions of
    https://creativecommons.org/licenses/by-sa/4.0/

    Other shortcuts exist. They exist to make it simple to change the formulation
    of parts that can vary over time.

    It does not change the undisputed truth that ALL code has been created by
    Patrick Boens, the author, who owns ALL the intellectual property of what
    he created.

    The code of this class has been generated by

*/

/** {{{*fheader
    {*file                  trql.email.class.php *}
    {*purpose               A set of services to create and send an email message. *}
    {*author                {PYB} *}
    {*company               {COMPANY} *}
    {*cdate                 21-01-21 12:50 *}
    {*mdate                 auto *}
    {*license               {RIGHTS} *}

    -------------------------------------------------------------------------------------
    Changes History:
    -------------------------------------------------------------------------------------

    {*chist
        {*mdate 21-01-21 12:50 *}
        {*author {PYB} *}
        {*v 8.0.0000 *}
        {*desc              1)  Original creation
        *}
    *}

    {*chist
        {*mdate 10-02-21 06:54 *}
        {*author {PYB} *}
        {*v 8.0.0000 *}
        {*desc              1)  Standardizing the [c]__destruct()[/c] method
                            2)  Adding the [c]__toForm()[/c] method; [c]__toString()[/c] 
                                now calls [c]__toForm()[/c]
        *}
    *}


    *}}} */
/****************************************************************************************/
namespace trql\changepasswordform;

use \trql\vaesoli\Vaesoli               as V;
use \trql\utility\Utility               as Utility;
use \trql\form\Form                     as Form;
use \trql\fieldset\Fieldset             as Fieldset;
use \trql\formset\Formset               as Formset;
use \trql\input\Input                   as Input;

if ( ! defined( 'VAESOLI_CLASS_VERSION' ) )
    require_once( 'trql.vaesoli.class.php' );

if ( ! defined( 'MESSAGE_CLASS_VERSION' ) )
    require_once( 'trql.message.class.php' );

if ( ! defined( 'FORM_CLASS_VERSION' ) )
    require_once( 'trql.form.class.php' );

if ( ! defined( 'FIELDSET_CLASS_VERSION' ) )
    require_once( 'trql.fieldset.class.php' );

if ( ! defined( 'INPUT_CLASS_VERSION' ) )
    require_once( 'trql.input.class.php' );

if ( ! defined( 'FORMSET_CLASS_VERSION' ) )
    require_once( 'trql.formset.class.php' );

defined( 'CHANGEPASSWORDFORM_CLASS_VERSION' ) or define( 'CHANGEPASSWORDFORM_CLASS_VERSION','0.1' );

/* ==================================================================================== */
/** {{*class ChangePasswordForm=

    {*desc

        A form to change the password

    *}

    {*warning

        Experimental feature (21-01-21 12:50)

    *}

 */
/* ==================================================================================== */
class ChangePasswordForm extends Form
/*---------------------------------*/
{
    protected   $self = array( 'file'   => __FILE__     ,           /* {*property   $self                           (array)             Fixed 'class' information. *} */
                               'class'  => __CLASS__    ,
                               'name'   => null         ,
                               'birth'  => null         ,
                               'home'   => null         ,
                               'family' => null         ,
                               'UIKey'  => null         ,
                             );


    /* === [Properties NOT defined in schema.org] ===================================== */
    public      $wikidataId         = null;                         /* {*property   $wikidataId                     (string)            Wikidata ID. No equivalent. *} */


    /* ================================================================================ */
    /** {{*__construct( [$szHome] )=

        Class constructor

        {*params
            $szHome     (string)        Home of the class. Optional.
        *}

        {*return
            (self)      The current instance of the class
        *}

        *}}
    */
    /* ================================================================================ */
    public function __construct( $szHome = null )
    /*-----------------------------------------*/
    {
        parent::__construct();
        $this->updateSelf( __CLASS__,'/q/common/trql.classes.home/' . basename( __FILE__,'.php' ) );

        return ( $this );
    }   /* End of ChangePasswordForm.__construct() ==================================== */
    /* ================================================================================ */


    public function __toForm():string
    /*------------------------------*/
    {
        $this->settings['withBR'] = false;

        {   /* Create a fieldset and add the field set to the form */
            $oFieldset              = new Fieldset();
            $oFieldset->szCaption   = 'Change Password';

            $this->add( $oFieldset );

            {   /* Adding zones to the fieldset */
                $oFieldset->add( new Input( array( 'name'           =>  'Old'                                                               ,
                                                   'type'           =>  'pwd'                                                               ,
                                                   'label'          =>  'Old password'                                                      ,
                                                   'lang'           =>  'en'                                                                ,
                                                   'tooltip'        =>  'Enter your current password'                                       ,
                                                   'required'       =>  true                                                                ,
                                                   'delete'         =>  true                                                                ,
                                                   'help'           =>  false                                                               ,
                                                   'value'          =>  ''                                                                  ,
                                                 ) ) );

                $oFieldset->add( new Input( array( 'name'           =>  'New'                                                               ,
                                                   'type'           =>  'pwd'                                                               ,
                                                   'label'          =>  'New password'                                                      ,
                                                   'lang'           =>  'en'                                                                ,
                                                   'tooltip'        =>  'Enter your new password'                                           ,
                                                   'required'       =>  true                                                                ,
                                                   'delete'         =>  true                                                                ,
                                                   'help'           =>  false                                                               ,
                                                   'value'          =>  ''                                                                  ,
                                                 ) ) );

                $oFieldset->add( new Input( array( 'name'           =>  'NewCheck'                                                          ,
                                                   'type'           =>  'pwd'                                                               ,
                                                   'label'          =>  'Check of new password'                                             ,
                                                   'lang'           =>  'en'                                                                ,
                                                   'tooltip'        =>  'Make sure the password is correct compared to the previous zone'   ,
                                                   'required'       =>  true                                                                ,
                                                   'delete'         =>  true                                                                ,
                                                   'help'           =>  false                                                               ,
                                                   'value'          =>  ''                                                                  ,
                                                 ) ) );

                $oFieldset->add( new Input( array( 'name'           =>  'Submit'                                                            ,
                                                   'type'           =>  'cmd'                                                               ,
                                                   'class'          =>  'shadow'                                                            ,
                                                   'lang'           =>  'en'                                                                ,
                                                   'value'          =>  'Submit'                                                            ,
                                                 ) ) );
            }   /* Adding zones to the fieldset */

        }   /* Create a fieldset and add the field set to the form */

        return ( $this->render() );
    }   /* End of ChangePasswordForm.__toForm() ======================================= */
    /* ================================================================================ */


    public function __toString():string
    /*-------------------------------*/
    {
        return ( $this->__toForm() );
    }   /* End of ChangePasswordForm.__toString() ===================================== */
    /* ================================================================================ */


    /* ================================================================================ */
    /** {{*__destruct()=

        Class destructor

        {*params
        *}

        {*return
            (void)      No return
        *}

        *}}
    */
    /* ================================================================================ */
    public function __destruct()
    /*------------------------*/
    {
        $this->backup();
        $this->autodoc();
        $this->UIKey();
        $this->WikiData();
        $this->necroSignaling();
    }   /* End of Email.__destruct() ================================================== */
    /* ================================================================================ */

}   /* End of class Email ============================================================= */
/* ==================================================================================== */
?>