<style>
.trql_documentor_DocumentorSourceFile { margin: 1em 1em; padding: 1em; border: 1px solid #000; box-sizing: border-box; }
.trql_documentor_DocumentorSourceFile * { box-sizing: border-box; }
.trql_documentor_DocumentorSourceFile hr { border-top: 4px solid #800 !important; margin:2em 0; box-shadow: 0 6px 10px 1px rgba(0,0,0,.2); }
.trql_documentor_DocumentorSourceFile pre { background: #c001; }
.trql_documentor_DocumentorSourceFile pre strong { color: #b00; }
.DocumentorLabel { font-style: italic; display: block; margin-top:1em; }
.property { font-weight: bold;}
.shadow { box-shadow: 0 20px 15px -15px rgba(0,0,0,.5); }
.constrained { max-width: 100%; height: auto; }
.center { text-align:center; }
code,samp, .filename {color: #800 !important;
   font-family: Consolas,"courier new";
   background: rgba(240, 240, 240, 0.5);
   border: 1px solid silver;
   border-radius: 3px;
   padding: 0px 5px; }
.seealso code a {text-decoration:none;
   color: #800 !important;
   font-weight: bold;
   font-style: italic;
   }
.property.inheritance code { border: none !important; }
.DocumentorLabel { font-style: italic; display: block;}
section.class { margin: 1em 1em; padding: 1em; border: 1px solid #000; background: #eee9; }
img.vaesoli-image { border:1px solid silver; padding: 1em; display: block;}
table.properties { border:1px solid silver; border-collapse: collapse; width:100%; }
table.properties thead th { border:1px solid silver;padding: .5em; width:20%; }
table.properties thead th.description { width:60%; }
table.properties tr.property td,
table.properties tr.parameter td { border:1px solid silver;padding: .5em; width:20%; }
table.properties tr.property td.description,
table.properties tr.parameter td.description { width: 60%; }
p.property.func { font: .9em/1em lucida,georgia,"times new roman",serif;
   letter-spacing: 3px;
   width: 100%;
   margin: 0 0 15px 0;
   padding: 5px;
   color: rgb(255,128,0);
   padding: 1em;
   border: 1px solid #999;
   box-shadow: 0 0 5px 5px rgb(200 200 200 / 30%);
   border: 1px solid #888; }
</style>

<div class="trql_documentor_DocumentorSourceFile">
<section class="header">
<span class="DocumentorLabel">Filename: </span><span class="property filename">trql.file.class.php</span>
<span class="DocumentorLabel">Purpose: </span><span class="property purpose">Computer file</span>
<span class="DocumentorLabel">Author: </span><span class="property author">Pat Y. Boens</span>
<span class="DocumentorLabel">Company: </span><span class="property company">Lato Sensu Management<br />Rue du Bois des Mazuis, 47<br />5070 Vitrival<br />Belgium<br /><a href="https://www.latosensu.be" class="DocumentorLink" title="Go to https://www.latosensu.be" itemprop="url">https://www.latosensu.be</a> (geonames: <a href="http://api.geonames.org/get?geonameId=8520400&username=demo&style=full" class="DocumentorLink" title="Go to http://api.geonames.org/get?geonameId=8520400&username=demo&style=full" itemprop="url">http://api.geonames.org/get?geonameId=8520400&username=demo&style=full</a>)<br />Vae Soli!: <a href="http://www.vaesoli.com" class="DocumentorLink" title="Go to http://www.vaesoli.com" itemprop="url">http://www.vaesoli.com</a><br /></span>
<span class="DocumentorLabel">Creation date: </span><span class="property cdate">27/06/2012 - 18:12</span>
<span class="DocumentorLabel">Last modification date: </span><span class="property mdate">06/03/2021 - 19:46:05</span>
<span class="DocumentorLabel">License/Copyrights: </span><span class="property license">Intellectual Property belongs to Pat Y. Boens. You are free to:<br /><br /><strong>Share</strong> — copy and redistribute the material in any medium or format<br /><strong>Adapt</strong> — remix, transform, and build upon the material for any purpose, even commercially.<br /><br />Under the following terms:<br /><br /><strong>Attribution</strong> — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.<br /><br /><strong>No additional restrictions</strong> — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.<br /><br /><a href="https://creativecommons.org/licenses/by/4.0/legalcode" class="DocumentorLink" title="Go to https://creativecommons.org/licenses/by/4.0/legalcode" itemprop="url">https://creativecommons.org/licenses/by/4.0/legalcode</a></span>
</section> <!-- .header -->
<section class="classes">
<section class="class shadow">
<span class="DocumentorLabel">Class: </span><span class="property classname"><code>File</code></span>
<span class="DocumentorLabel">Description: </span><span class="property description">High level file class which handles all details of a file:
 file size, modification date & time, creation date & time,
 last access date & time, ...</span>
<span class="DocumentorLabel">Inheritance: </span><span class="property inheritance"><code><a href="?src=Mother">Mother</a> &gt; <a href="?src=Utility">Utility</a> &gt; File</code></span>
<span class="DocumentorLabel">Declaration: </span><span class="property declaration"><code>class File extends Utility</code></span>
<span class="DocumentorLabel">Warning: </span><span class="property warning">This class must still be tested extensively in the context of TRQL Labs</span>
<span class="DocumentorLabel">Properties: </span>
<table class="properties">
<thead>
<tr>
<th class="name">Name</th>
<th class="type">Type</th>
<th class="description">Description</th>
</tr>
</thead>
<tr class="property">
<td class="name" id="var.CTime"><code>$CTime</code></td>
<td class="type"><code>int</code></td>
<td class="description">Creation date & time</td>
</tr>
<tr class="property">
<td class="name" id="var.iATime"><code>$iATime</code></td>
<td class="type"><code>int</code></td>
<td class="description">Last access date & time</td>
</tr>
<tr class="property">
<td class="name" id="var.iMTime"><code>$iMTime</code></td>
<td class="type"><code>int</code></td>
<td class="description">Last modification date & time</td>
</tr>
<tr class="property">
<td class="name" id="var.iSize"><code>$iSize</code></td>
<td class="type"><code>int</code></td>
<td class="description">File size in bytes</td>
</tr>
<tr class="property">
<td class="name" id="var.rHandle"><code>$rHandle</code></td>
<td class="type"><code>res</code></td>
<td class="description">Handle of the file</td>
</tr>
<tr class="property">
<td class="name" id="var.self"><code>$self</code></td>
<td class="type"><code>array</code></td>
<td class="description">Fixed 'class' information.</td>
</tr>
<tr class="property">
<td class="name" id="var.szFile"><code>$szFile</code></td>
<td class="type"><code>string</code></td>
<td class="description">Physical filename</td>
</tr>
<tr class="property">
<td class="name" id="var.szMIMEType"><code>$szMIMEType</code></td>
<td class="type"><code>string</code></td>
<td class="description">File MIME type</td>
</tr>
<tr class="property">
<td class="name" id="var.szStorage"><code>$szStorage</code></td>
<td class="type"><code>string</code></td>
<td class="description">Logical filename</td>
</tr>
<tr class="property">
<td class="name" id="var.ttl"><code>$ttl</code></td>
<td class="type"><code>int</code></td>
<td class="description">Time-to-Live in sec; 1 full day by default</td>
</tr>
<tr class="property">
<td class="name" id="var.wikidataId"><code>$wikidataId</code></td>
<td class="type"><code>string</code></td>
<td class="description">WikidataId ... block of arbitrary information, or 
 resource for storing information, which is 
 available to a computer program</td>
</tr>
</table>
<h2 class="DocumentorLabel">Methods of <code>File</code></h2>
<p class="property func" id="fnc.__construct"><span class="name"><strong><code>__construct()</code></strong></span>: Class constructor</p>
<p class="property">Keywords:</p>
<p>constructors, destructors</p>
<p class="property">Syntax:</p>
<p><code>__construct( $MustOpen )</code></p>
<span class="DocumentorLabel">Parameters: </span>
<table class="properties">
<thead>
<tr>
<th class="name">Name</th>
<th class="type">Type</th>
<th class="description">Description</th>
</tr>
</thead>
<tr class="parameter">
<td class="name" id="param.__construct.szFile"><code>$szFile</code></td>
<td class="type"><code>string</code></td>
<td class="description seealso">Logical or physical filename. Optional. <code>null</code> by default.</td>
</tr>
<tr class="parameter">
<td class="name" id="param.__construct.MustOpen"><code>$MustOpen</code></td>
<td class="type"><code>bool</code></td>
<td class="description seealso">Must the file be opened on object creation? <code>false</code> by default.</td>
</tr>
</table>
<p class="property return">Return:</p>
<p class="seealso">(void): </p>
<span class="DocumentorLabel">See also: </span><span class="property seealso"><code><a href="#fnc.__construct">__construct()</a></code></span>
<hr /><p class="property func" id="fnc.__destruct"><span class="name"><strong><code>__destruct()</code></strong></span>: Class destructor</p>
<p class="property">Syntax:</p>
<p><code>__destruct()</code></p>
<hr /><p class="property func" id="fnc.close"><span class="name"><strong><code>close()</code></strong></span>: Close the file</p>
<p class="property">Syntax:</p>
<p><code>close()</code></p>
<p class="property return">Return:</p>
<p class="seealso">(bool):  <code>true</code> if file successfully closed; <code>false</code> if not</p>
<hr /><p class="property func" id="fnc.destruct"><span class="name"><strong><code>destruct()</code></strong></span>: Class destructor</p>
<p class="property">Syntax:</p>
<p><code>destruct()</code></p>
<p class="property return">Return:</p>
<p class="seealso">(void):  No return.</p>
<hr /><p class="property func" id="fnc.gets"><span class="name"><strong><code>gets()</code></strong></span>: Get next line of file</p>
<p class="property">Syntax:</p>
<p><code>gets( $iLength )</code></p>
<span class="DocumentorLabel">Parameters: </span>
<table class="properties">
<thead>
<tr>
<th class="name">Name</th>
<th class="type">Type</th>
<th class="description">Description</th>
</tr>
</thead>
<tr class="parameter">
<td class="name" id="param.gets.iLength"><code>$iLength</code></td>
<td class="type"><code>int</code></td>
<td class="description seealso">Maximum line length. Optional. <code>1024</code> by default</td>
</tr>
</table>
<p class="property return">Return:</p>
<p class="seealso">(string):  Next line from file. <code>false</code> if end of file encountered.</p>
<hr /><p class="property func" id="fnc.mimeType"><span class="name"><strong><code>mimeType()</code></strong></span>: Returns the MIME type corresponding to the file extension of the file
 object</p>
<p class="property">Remark:</p>
<p>Only a small subset of MIME types is considered</p>
<p class="property">Syntax:</p>
<p><code>mimeType()</code></p>
<p class="property return">Return:</p>
<p class="seealso">(string):  The MIME type
 <table>
 <tr><td> .aif </td><td> audio/x-aiff </td></tr>
 <tr><td> .aiff </td><td> audio/x-aiff </td></tr>
 <tr><td> .arc </td><td> application/octet-stream </td></tr>
 <tr><td> .arj </td><td> application/octet-stream </td></tr>
 <tr><td> .art </td><td> image/x-jg </td></tr>
 <tr><td> .asf </td><td> video/x-ms-asf </td></tr>
 <tr><td> .asx </td><td> video/x-ms-asf </td></tr>
 <tr><td> .avi </td><td> video/avi </td></tr>
 <tr><td> .bin </td><td> application/octet-stream </td></tr>
 <tr><td> .bm </td><td> image/bmp </td></tr>
 <tr><td> .bmp </td><td> image/bmp </td></tr>
 <tr><td> .bz2 </td><td> application/x-bzip2 </td></tr>
 <tr><td> .css </td><td> text/css </td></tr>
 <tr><td> .csv </td><td> text/csv </td></tr>
 <tr><td> .doc </td><td> application/msword </td></tr>
 <tr><td> .dot </td><td> application/msword </td></tr>
 <tr><td> .docx </td><td> application/msword </td></tr>
 <tr><td> .dv </td><td> video/x-dv </td></tr>
 <tr><td> .exe </td><td> application/octetstream </td></tr>
 <tr><td> .gif </td><td> image/gif </td></tr>
 <tr><td> .gz </td><td> application/x-gzip </td></tr>
 <tr><td> .gzip </td><td> application/x-gzip </td></tr>
 <tr><td> .htm </td><td> text/html </td></tr>
 <tr><td> .html </td><td> text/html </td></tr>
 <tr><td> .ico </td><td> image/x-icon </td></tr>
 <tr><td> .jpe </td><td> image/jpeg </td></tr>
 <tr><td> .jpeg </td><td> image/jpeg </td></tr>
 <tr><td> .jpg </td><td> image/jpeg </td></tr>
 <tr><td> .js </td><td> application/x-javascript </td></tr>
 <tr><td> .json </td><td> application/json </td></tr>
 <tr><td> .log </td><td> text/plain </td></tr>
 <tr><td> .txt </td><td> text/plain </td></tr>
 <tr><td> .mid </td><td> audio/x-midi </td></tr>
 <tr><td> .mov </td><td> video/quicktime </td></tr>
 <tr><td> .mp2 </td><td> audio/mpeg </td></tr>
 <tr><td> .mpg </td><td> audio/mpeg </td></tr>
 <tr><td> .mp3 </td><td> audio/mpeg3 </td></tr>
 <tr><td> .mp4 </td><td> video/mp4 </td></tr>
 <tr><td> .ogg </td><td> application/ogg </td></tr>
 <tr><td> .pdf </td><td> application/pdf </td></tr>
 <tr><td> .png </td><td> image/png </td></tr>
 <tr><td> .ppt </td><td> application/vnd.ms-powerpoint </td></tr>
 <tr><td> .ra </td><td> audio/vnd.rn-realaudioreal </td></tr>
 <tr><td> .rtf </td><td> application/rtf </td></tr>
 <tr><td> .tif </td><td> image/tiff </td></tr>
 <tr><td> .tiff </td><td> image/tiff </td></tr>
 <tr><td> .vcard </td><td> text/x-vCard </td></tr>
 <tr><td> .wav </td><td> audio/x-wav </td></tr>
 <tr><td> .wma </td><td> audio/x-ms-wma </td></tr>
 <tr><td> .xls </td><td> application/vnd.ms-excel </td></tr>
 <tr><td> .xml </td><td> text/xml </td></tr>
 <tr><td> .zip </td><td> application/zip ); </td></tr>
 <tr><td> default </td><td> application/force-download </td></tr>
 </table></p>
<hr /><p class="property func" id="fnc.open"><span class="name"><strong><code>open()</code></strong></span>: Open a file in a given mode</p>
<p class="property">Syntax:</p>
<p><code>open( $szMode )</code></p>
<span class="DocumentorLabel">Parameters: </span>
<table class="properties">
<thead>
<tr>
<th class="name">Name</th>
<th class="type">Type</th>
<th class="description">Description</th>
</tr>
</thead>
<tr class="parameter">
<td class="name" id="param.open.szMode"><code>$szMode</code></td>
<td class="type"><code>string</code></td>
<td class="description seealso">Optional type of access. <code>r</code> by default (read-only) <table> <tr><td><code>r </code></td><td>Open for reading only; place the file pointer at the beginning of the file. </td></tr> <tr><td><code>r+</code></td><td>Open for reading and writing; place the file pointer at the beginning of the file. </td></tr> <tr><td><code>w </code></td><td>Open for writing only; place the file pointer at the beginning of the file and truncate the file to zero length. If the file does not exist, attempt to create it. </td></tr> <tr><td><code>w+</code></td><td>Open for reading and writing; place the file pointer at the beginning of the file and truncate the file to zero length. If the file does not exist, attempt to create it. </td></tr> <tr><td><code>a </code></td><td>Open for writing only; place the file pointer at the end of the file. If the file does not exist, attempt to create it. </td></tr> <tr><td><code>a+</code></td><td>Open for reading and writing; place the file pointer at the end of the file. If the file does not exist, attempt to create it. </td></tr> <tr><td><code>x </code></td><td>Create and open for writing only; place the file pointer at the beginning of the file. If the file already exists, the fopen() call will fail by returning FALSE and generating an error of level E_WARNING. If the file does not exist, attempt to create it. This is equivalent to specifying O_EXCL|O_CREAT flags for the underlying open(2) system call. </td></tr> <tr><td><code>x+</code></td><td>Create and open for reading and writing; otherwise it has the same behavior as 'x'. </td></tr> <tr><td><code>c </code></td><td>Open the file for writing only. If the file does not exist, it is created. If it exists, it is neither truncated (as opposed to 'w'), nor the call to this function fails (as is the case with 'x'). The file pointer is positioned on the beginning of the file. This may be useful if it's desired to get an advisory lock (see flock()) before attempting to modify the file, as using 'w' could truncate the file before the lock was obtained (if truncation is desired, ftruncate() can be used after the lock is requested). </td></tr> <tr><td><code>c+</code></td><td>Open the file for reading and writing; otherwise it has the same behavior as 'c'. </td></tr> </table></td>
</tr>
</table>
<p class="property return">Return:</p>
<p class="seealso">(bool):  <code>true</code> if the file is successfully open; <code>false</code> if not</p>
<hr /><p class="property func" id="fnc.size"><span class="name"><strong><code>size()</code></strong></span>: Determines the length of a file in bytes</p>
<p class="property">Syntax:</p>
<p><code>size()</code></p>
<p class="property return">Return:</p>
<p class="seealso">(int):  Size in bytes or <code>-1</code> in case of problem.
 The internal <code>$iSize</code> property is updated.</p>
<hr /><p class="property func" id="fnc.time"><span class="name"><strong><code>time()</code></strong></span>: Determines the date & time of a file</p>
<p class="property">Syntax:</p>
<p><code>time( $szTimes )</code></p>
<span class="DocumentorLabel">Parameters: </span>
<table class="properties">
<thead>
<tr>
<th class="name">Name</th>
<th class="type">Type</th>
<th class="description">Description</th>
</tr>
</thead>
<tr class="parameter">
<td class="name" id="param.time.szTimes"><code>$szTimes</code></td>
<td class="type"><code>string</code></td>
<td class="description seealso">A = access date & time<br /> C = creation date & time<br /> M = modification date & time<br /> Times can be added to each other (e.g.: 'ACM')</td>
</tr>
</table>
<p class="property return">Return:</p>
<p class="seealso">(array):  Associative array:<br />
 <code>'access'</code> Access date & time<br />
 <code>'creation'</code> Creation date & time<br />
 <code>'modification'</code> Modification date & time<br /></p>
<hr /></section> <!-- .class -->
</section> <!-- .classes -->
</div> <!-- End of trql_documentor_DocumentorSourceFile-->
